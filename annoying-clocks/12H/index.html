<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="theme-color" content="#000" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="#000" />
    <meta name="apple-mobile-web-app-title" content="24H" />
    <link
      rel="canonical"
      href="https://sverweij.github.io/annoying-clocks/24H"
    />
    <title>12H</title>
    <style>
      html,
      body {
        height: 100%;
        width: 100%;
        /* background-color: #444; */
        background-color: black;
        margin: 0;
        /* background-image: url("./background.webp"); */
        background-repeat: repeat;
        background-attachment: fixed;
        background-position: top;
        background-size: 100% auto;
      }
    </style>
  </head>
  <body>
    <svg viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg">
      <style>
        svg {
          height: 99%;
          width: 99%;
        }
        line,
        circle {
          stroke-linecap: round;
          stroke-linejoin: round;
        }
        text {
          font-family: sans-serif;
          font-size: 100px;
          text-anchor: middle;
          fill: none;
          stroke-width: 3;
        }
        rect {
          fill: none;
        }
      </style>
      <filter id="drop-shadow" width="180%" x="-40%">
        <feGaussianBlur in="SourceAlpha" stdDeviation="4" />
        <feOffset dx="0" dy="0" result="offsetblur" />
        <feFlood flood-color="#333" />
        <feComposite in2="offsetblur" operator="in" />
        <feMerge>
          <feMergeNode />
          <feMergeNode in="SourceGraphic" />
        </feMerge>
      </filter>
      <g stroke="white" stroke-width="10" filter="url(#drop-shadow)">
        <g id="secondFace" transform="translate(350,680)" visibility="hidden">
          <circle stroke-width="4" fill="transparent" cx="0" cy="0" r="120" />
          <line stroke-width="4" x1="0" y1="-105" x2="0" y2="-120" />
          <line
            transform="rotate(90)"
            stroke-width="4"
            x1="0"
            y1="-105"
            x2="0"
            y2="-120"
          />
          <line
            transform="rotate(180)"
            stroke-width="4"
            x1="0"
            y1="-105"
            x2="0"
            y2="-120"
          />
          <line
            transform="rotate(270)"
            stroke-width="4"
            x1="0"
            y1="-105"
            x2="0"
            y2="-120"
          />
          <g id="secondHand" stroke="red" stroke-width="8">
            <line x1="0" y1="40" x2="0" y2="-100" />
            <circle fill="#444" cx="0" cy="0" r="8" />
          </g>
        </g>
        <g transform="translate(650,680)" visibility="hidden">
          <circle stroke-width="4" fill="transparent" cx="0" cy="0" r="120" />
          <line stroke-width="4" x1="0" y1="-105" x2="0" y2="-120" />
          <line
            transform="rotate(90)"
            stroke-width="4"
            x1="0"
            y1="-105"
            x2="0"
            y2="-120"
          />
          <line
            transform="rotate(180)"
            stroke-width="4"
            x1="0"
            y1="-105"
            x2="0"
            y2="-120"
          />
          <line
            transform="rotate(270)"
            stroke-width="4"
            x1="0"
            y1="-105"
            x2="0"
            y2="-120"
          />
          <g id="offSetHourHand" stroke-width="8" filter="url(#drop-shadow)">
            <line x1="0" y1="20" x2="0" y2="-70" />
            <circle cx="0" cy="0" r="8" />
          </g>
          <g id="offSetMinuteHand" stroke-width="6" filter="url(#drop-shadow)">
            <line x1="0" y1="30" x2="0" y2="-100" />
            <circle fill="#444" cx="0" cy="0" r="6" />
          </g>
          <g id="offSetSecondHand" stroke="white" stroke-width="2">
            <!-- <line x1="0" y1="40" x2="0" y2="-100"/> -->
            <!-- <circle fill="#444" cx="0" cy="0" r="4" /> -->
          </g>
        </g>
        <g transform="translate(500,500)">
          <circle fill="transparent" cx="0" cy="0" r="490" />
          <g transform="rotate(0)">
            <text x="0" y="-360" x="0">12</text>
            <line stroke-width="20" x1="0" y1="-465" x2="0" y2="-485" />
          </g>
          <g transform="rotate(30)">
            <text x="0" y="-360">1</text>
            <line x1="0" y1="-465" x2="0" y2="-485" />
          </g>
          <g transform="rotate(60)">
            <text x="0" y="-360">2</text>
            <line x1="0" y1="-465" x2="0" y2="-485" />
          </g>
          <g transform="rotate(90)">
            <text x="0" y="-360">3</text>
            <line x1="0" y1="-465" x2="0" y2="-485" />
          </g>
          <g transform="rotate(120)">
            <text x="0" y="-360">4</text>
            <line x1="0" y1="-465" x2="0" y2="-485" />
          </g>
          <g transform="rotate(150)">
            <text x="0" y="-360">5</text>
            <line x1="0" y1="-465" x2="0" y2="-485" />
          </g>
          <g transform="rotate(180)">
            <text x="0" y="-360">6</text>
            <line x1="0" y1="-465" x2="0" y2="-485" />
          </g>
          <g transform="rotate(210)">
            <text x="0" y="-360">7</text>
            <line x1="0" y1="-465" x2="0" y2="-485" />
          </g>
          <g transform="rotate(240)">
            <text x="0" y="-360">8</text>
            <line x1="0" y1="-465" x2="0" y2="-485" />
          </g>
          <g transform="rotate(270)">
            <text x="0" y="-360">9</text>
            <line x1="0" y1="-465" x2="0" y2="-485" />
          </g>
          <g transform="rotate(300)">
            <text x="0" y="-360">10</text>
            <line stroke-width="10" x1="0" y1="-465" x2="0" y2="-485" />
          </g>
          <g transform="rotate(330)">
            <text x="0" y="-360">11</text>
            <line stroke-width="10" x1="0" y1="-465" x2="0" y2="-485" />
          </g>
          <g stroke-width="5" visibility="hidden">
            <line transform="rotate(15)" x1="0" y1="-470" x2="0" y2="-490" />
            <line transform="rotate(45)" x1="0" y1="-470" x2="0" y2="-490" />
            <line transform="rotate(75)" x1="0" y1="-470" x2="0" y2="-490" />
            <line transform="rotate(105)" x1="0" y1="-470" x2="0" y2="-490" />
            <line transform="rotate(135)" x1="0" y1="-470" x2="0" y2="-490" />
            <line transform="rotate(165)" x1="0" y1="-470" x2="0" y2="-490" />
            <line transform="rotate(195)" x1="0" y1="-470" x2="0" y2="-490" />
            <line transform="rotate(225)" x1="0" y1="-470" x2="0" y2="-490" />
            <line transform="rotate(255)" x1="0" y1="-470" x2="0" y2="-490" />
            <line transform="rotate(285)" x1="0" y1="-470" x2="0" y2="-490" />
            <line transform="rotate(315)" x1="0" y1="-470" x2="0" y2="-490" />
            <line transform="rotate(345)" x1="0" y1="-470" x2="0" y2="-490" />
          </g>
          <g transform="translate(180, 25)">
            <rect
              stroke-width="4px"
              stroke="gray"
              x="-80"
              y="-58"
              width="240"
              height="72"
              rx="15"
              ry="15"
            ></rect>
            <text
              style="font-size: 60px; fill: gray; stroke: none"
              id="dayElement"
              x="0"
              y="0"
            ></text>
            <text
              style="font-size: 60px; fill: gray; stroke: gray"
              id="dateElement"
              x="110"
              y="0"
            ></text>
          </g>
          <g id="hourHand" stroke-width="25" filter="url(#drop-shadow)">
            <line x1="0" y1="60" x2="0" y2="-260" />
            <circle cx="0" cy="0" r="25" />
          </g>
          <g id="minuteHand" stroke-width="16" filter="url(#drop-shadow)">
            <line x1="0" y1="80" x2="0" y2="-420" />
            <circle fill="#444" cx="0" cy="0" r="20" />
          </g>
        </g>
      </g>
    </svg>
    <script>
      const SVGNS = "http://www.w3.org/2000/svg";

      function scale2Angle(pValue, pMax) {
        return (pValue / pMax) * 360;
      }
      function hour2Angle(pHour, pMinute) {
        return scale2Angle(pHour + pMinute / 60, 12);
      }

      function minute2Angle(pMinute, pSeconds) {
        return scale2Angle(pMinute + pSeconds / 60, 60);
      }

      function second2Angle(pSecond, pMilliSecond) {
        return scale2Angle(pSecond + pMilliSecond / 1000, 60);
      }

      class ClockView {
        constructor(
          pHourHandElement,
          pMinuteHandElement,
          pSecondHandElement,
          pOffSet = 0
        ) {
          this.hourHand = pHourHandElement;
          this.minuteHand = pMinuteHandElement;
          this.secondHand = pSecondHandElement;
          this.offSet = pOffSet;
        }

        drawTime(pHour, pMinute, pSecond, pMilliSecond = 0) {
          this.hourHand.setAttribute(
            "transform",
            `rotate(${hour2Angle(pHour, pMinute + this.offSet)})`
          );
          this.minuteHand.setAttribute(
            "transform",
            `rotate(${minute2Angle(pMinute + this.offSet, pSecond)})`
          );
          this.secondHand.setAttribute(
            "transform",
            `rotate(${second2Angle(pSecond, pMilliSecond)})`
          );
        }

        draw() {
          const lDate = new Date();
          this.drawTime(
            lDate.getHours(),
            lDate.getMinutes(),
            lDate.getSeconds(),
            lDate.getMilliseconds()
          );
        }
      }

      class DateView {
        constructor(pDayElement, pDateElement) {
          this.dayElement = pDayElement;
          this.dateElement = pDateElement;
        }

        drawDate(pDay, pDate) {
          const DAY2DATE = {
            0: "SUN",
            1: "MON",
            2: "TUE",
            3: "WED",
            4: "THU",
            5: "FRI",
            6: "SAT",
          };
          this.dayElement.innerHTML = DAY2DATE[pDay] || "ERR";
          this.dateElement.innerHTML = pDate;
        }

        draw() {
          const lDate = new Date();
          this.drawDate(lDate.getDay(), lDate.getDate());
        }
      }

      const cv = new ClockView(
        document.getElementById("hourHand"),
        document.getElementById("minuteHand"),
        document.getElementById("secondHand")
      );

      const dv = new DateView(
        document.getElementById("dayElement"),
        document.getElementById("dateElement")
      );
      cv.draw();
      dv.draw();

      window.setInterval(() => {
        cv.draw();
        dv.draw();
      }, 10000);
    </script>
  </body>
</html>
